)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> collect()
)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> select(-col1)
|> collect()
)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1)
|> collect()
)
shiny::runApp()
shiny::runApp()
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1)
|> collect()
)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1)
|> collect()
)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1, -`_name_`)
|> dplyr::pivot_wider(names_from = moisor, values_from = N)
|> collect()
)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|> collect()
)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(periode = as.character(periode))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(periode = as.character(periode))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|>  mutate(sum = rowSums(across(where(is.numeric))))
)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(periode = as.character(periode))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|> dplyr:: mutate(sum = rowSums(across(where(is.numeric))))
)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(periode = as.character(periode))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|> dplyr:: mutate(sum = rowSums(dplyr::across(dplyr::where(is.numeric))))
)
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == "2023",
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(periode = as.character(periode))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|> dplyr:: mutate(
Total = rowSums(dplyr::across(dplyr::where(is.numeric)), na.rm = T))
)
file.edit("app/logic/ovalide_data_utils.R")
file.edit("app/logic/monthly_activiy.R")
file.edit("app/logic/db_utils.R")
shiny::runApp()
shiny::runApp()
file.edit("tests/interactive/browser.R")
shiny::runApp()
shiny::runApp()
shiny::runApp()
file.edit("app/logic/db_utils.R")
shiny::runApp()
shiny::runApp()
shiny::runApp()
nature
most_recent_year(nature)
shiny::runApp()
year
shiny::runApp()
year
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == year,
`_name_`  %in% c("nbrsa", "cmd90")
)
|> dplyr::select(annee, periode, moisor, `_name_`, col1)
|> dplyr::mutate(
dplyr::across(
dplyr::all_of(c("periode", "moisor", "col1")), as.integer))
|> dplyr::arrange(periode, moisor, dplyr::desc(`_name_`))
|> dplyr::mutate(periode = as.character(periode))
|> dplyr::mutate(N = col1 - dplyr::lead(col1))
|> filter(`_name_` == "nbrsa")
|> dplyr::select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|> dplyr:: mutate(
Total = rowSums(dplyr::across(dplyr::where(is.numeric)), na.rm = T))
)
shiny::runApp()
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == year,
`_name_`  %in% c("nbrsa", "cmd90")
)
|> select(annee, periode, moisor, `_name_`, col1)
|> mutate(
across(
all_of(c("periode", "moisor", "col1")), as.integer))
|> arrange(periode, moisor, desc(`_name_`))
|> mutate(periode = as.character(periode))
|> mutate(N = col1 - lead(col1))
|> filter(`_name_` == "nbrsa")
|> select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|>  mutate(
Total = rowSums(across(where(is.numeric)), na.rm = T))
)
shiny::runApp()
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == year,
`_name_`  %in% c("nbrsa", "cmd90")
)
|> select(annee, periode, moisor, `_name_`, col1)
|> mutate(
across(
all_of(c("periode", "moisor", "col1")), as.integer))
|> arrange(periode, moisor, desc(`_name_`))
|> mutate(periode = as.character(periode))
|> mutate(N = col1 - lead(col1))
|> filter(`_name_` == "nbrsa")
|> select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|>  mutate(
Total = rowSums(across(where(is.numeric)), na.rm = T))
)
shiny::runApp()
(
tbl(db_instant_connect(nature()), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == year,
`_name_`  %in% c("nbrsa", "cmd90")
)
|> select(annee, periode, moisor, `_name_`, col1)
|> mutate(
across(
all_of(c("periode", "moisor", "col1")), as.integer))
|> arrange(periode, moisor, desc(`_name_`))
|> mutate(periode = as.character(periode))
|> mutate(N = col1 - lead(col1))
|> filter(`_name_` == "nbrsa")
|> select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|>  mutate(
Total = rowSums(across(where(is.numeric)), na.rm = T))
)
(
tbl(db_instant_connect(nature), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == year,
`_name_`  %in% c("nbrsa", "cmd90")
)
|> select(annee, periode, moisor, `_name_`, col1)
|> mutate(
across(
all_of(c("periode", "moisor", "col1")), as.integer))
|> arrange(periode, moisor, desc(`_name_`))
|> mutate(periode = as.character(periode))
|> mutate(N = col1 - lead(col1))
|> filter(`_name_` == "nbrsa")
|> select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|>  mutate(
Total = rowSums(across(where(is.numeric)), na.rm = T))
)
shiny::runApp()
(
tbl(db_instant_connect(nature), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == year,
`_name_`  %in% c("nbrsa", "cmd90")
)
|> select(annee, periode, moisor, `_name_`, col1)
|> mutate(
across(
all_of(c("periode", "moisor", "col1")), as.integer))
|> arrange(periode, moisor, desc(`_name_`))
|> mutate(periode = as.character(periode))
|> mutate(N = col1 - lead(col1))
|> filter(`_name_` == "nbrsa")
|> select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|>  mutate(
Total = rowSums(across(where(is.numeric)), na.rm = T))
)
rrun
shiny::runApp()
(
tbl(db_instant_connect(nature), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == year,
`_name_`  %in% c("nbrsa", "cmd90")
)
|> select(annee, periode, moisor, `_name_`, col1)
|> mutate(
across(
all_of(c("periode", "moisor", "col1")), as.integer))
|> arrange(periode, moisor, desc(`_name_`))
|> mutate(periode = as.character(periode))
|> mutate(N = col1 - lead(col1))
|> filter(`_name_` == "nbrsa")
|> select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|>  mutate(
Total = rowSums(across(where(is.numeric)), na.rm = T))
)
(
tbl(db_instant_connect(nature), "t1d2rtp_2")
|> collect()
|> filter(ipe == finess,
annee == year,
`_name_`  %in% c("nbrsa", "cmd90")
)
|> select(annee, periode, moisor, `_name_`, col1)
|> mutate(
across(
all_of(c("periode", "moisor", "col1")), as.integer))
|> arrange(periode, moisor, desc(`_name_`))
|> mutate(periode = as.character(periode))
|> mutate(N = col1 - lead(col1))
|> filter(`_name_` == "nbrsa")
|> select(-col1, -`_name_`)
|> tidyr::pivot_wider(names_from = moisor, values_from = N)
|>  mutate(
Total = rowSums(across(where(is.numeric)), na.rm = T))
)
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
dim(mtcars)
mtcars[1:3, 1:4]
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
input
output
session
finess
stays_last_year(nature, finess)
shiny::runApp()
most_recent_year(nature)
shiny::runApp()
db_instant_connect(nature)
dbExistsTable(db_instant_connect(nature), "tdb")
db_query(nature, query)
shiny::runApp()
finess
nature
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
shiny::runApp()
file.edit("tests/interactive/monthly_activity.R")
shiny::runApp()
shiny::runApp()
finess
shiny::runApp()
shiny::runApp()
shiny::runApp()
(
bind_rows(last_year, this_year)
)
shiny::runApp()
shiny::runApp()
(
bind_rows(last_year, this_year)
)
(
bind_rows(last_year, this_year)
|> dplyr::select(annee, periode, Total)
)
(
bind_rows(last_year, this_year)
|> dplyr::select(annee, periode, Total)
|> ggplot(aes(periode, Total))
)
(
bind_rows(last_year, this_year)
|> dplyr::select(annee, periode, Total)
|> ggplot2::ggplot(aes(periode, Total))
)
(
bind_rows(last_year, this_year)
|> dplyr::select(annee, periode, Total)
|> ggplot::ggplot(aes(periode, Total))
)
(
bind_rows(last_year, this_year)
|> dplyr::select(annee, periode, Total)
|> ggplot2::ggplot(aes(periode, Total))
)
keyboardShortcutAddin:::list_files_pwd()
file.edit("dependencies.R")
renv::install("ggplot2")
renv::install("ggplot2")
renv::install("ggplot2")
rhino::pkg_install("ggplot2")
